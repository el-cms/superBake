!function(l){function i(){return new Date(Date.UTC.apply(Date,arguments))}function h(){var a=new Date();return i(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),0)}var j=function(b,c){var a=this;this.element=l(b);this.language=c.language||this.element.data("date-language")||"en";this.language=this.language in k?this.language:"en";this.isRTL=k[this.language].rtl||false;this.formatType=c.formatType||this.element.data("format-type")||"standard";this.format=g.parseFormat(c.format||this.element.data("date-format")||g.getDefaultFormat(this.formatType,"input"),this.formatType);this.isInline=false;this.isVisible=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".input-group-addon .icon-th, .input-group-addon .icon-time, .input-group-addon .icon-calendar").parent():false;this.componentReset=this.element.is(".date")?this.element.find(".input-group-addon .icon-remove").parent():false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.linkField=c.linkField||this.element.data("link-field")||false;this.linkFormat=g.parseFormat(c.linkFormat||this.element.data("link-format")||g.getDefaultFormat(this.formatType,"link"),this.formatType);this.minuteStep=c.minuteStep||this.element.data("minute-step")||5;this.pickerPosition=c.pickerPosition||this.element.data("picker-position")||"bottom-right";this.showMeridian=c.showMeridian||this.element.data("show-meridian")||false;this.initialDate=c.initialDate||new Date();this._attachEvents();this.formatViewType="datetime";if("formatViewType" in c){this.formatViewType=c.formatViewType}else{if("formatViewType" in this.element.data()){this.formatViewType=this.element.data("formatViewType")}}this.minView=0;if("minView" in c){this.minView=c.minView}else{if("minView" in this.element.data()){this.minView=this.element.data("min-view")}}this.minView=g.convertViewMode(this.minView);this.maxView=g.modes.length-1;if("maxView" in c){this.maxView=c.maxView}else{if("maxView" in this.element.data()){this.maxView=this.element.data("max-view")}}this.maxView=g.convertViewMode(this.maxView);this.startViewMode=2;if("startView" in c){this.startViewMode=c.startView}else{if("startView" in this.element.data()){this.startViewMode=this.element.data("start-view")}}this.startViewMode=g.convertViewMode(this.startViewMode);this.viewMode=this.startViewMode;this.viewSelect=this.minView;if("viewSelect" in c){this.viewSelect=c.viewSelect}else{if("viewSelect" in this.element.data()){this.viewSelect=this.element.data("view-select")}}this.viewSelect=g.convertViewMode(this.viewSelect);this.forceParse=true;if("forceParse" in c){this.forceParse=c.forceParse}else{if("dateForceParse" in this.element.data()){this.forceParse=this.element.data("date-force-parse")}}this.picker=l(g.template).appendTo(this.isInline?this.element:"body").on({click:l.proxy(this.click,this),mousedown:l.proxy(this.mousedown,this)});if(this.isInline){this.picker.addClass("datetimepicker-inline")}else{this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu")}if(this.isRTL){this.picker.addClass("datetimepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}l(document).on("mousedown",function(d){if(l(d.target).closest(".datetimepicker").length===0){a.hide()}});this.autoclose=false;if("autoclose" in c){this.autoclose=c.autoclose}else{if("dateAutoclose" in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}this.keyboardNavigation=true;if("keyboardNavigation" in c){this.keyboardNavigation=c.keyboardNavigation}else{if("dateKeyboardNavigation" in this.element.data()){this.keyboardNavigation=this.element.data("date-keyboard-navigation")}}this.todayBtn=(c.todayBtn||this.element.data("date-today-btn")||false);this.todayHighlight=(c.todayHighlight||this.element.data("date-today-highlight")||false);this.weekStart=((c.weekStart||this.element.data("date-weekstart")||k[this.language].weekStart||0)%7);this.weekEnd=((this.weekStart+6)%7);this.startDate=-Infinity;this.endDate=Infinity;this.daysOfWeekDisabled=[];this.setStartDate(c.startDate||this.element.data("date-startdate"));this.setEndDate(c.endDate||this.element.data("date-enddate"));this.setDaysOfWeekDisabled(c.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));this.fillDow();this.fillMonths();this.update();this.showMode();if(this.isInline){this.show()}};j.prototype={constructor:j,_events:[],_attachEvents:function(){this._detachEvents();if(this.isInput){this._events=[[this.element,{focus:l.proxy(this.show,this),keyup:l.proxy(this.update,this),keydown:l.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:l.proxy(this.show,this),keyup:l.proxy(this.update,this),keydown:l.proxy(this.keydown,this)}],[this.component,{click:l.proxy(this.show,this)}]];if(this.componentReset){this._events.push([this.componentReset,{click:l.proxy(this.reset,this)}])}}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:l.proxy(this.show,this)}]]}}}for(var c=0,b,a;c<this._events.length;c++){b=this._events[c][0];a=this._events[c][1];b.on(a)}},_detachEvents:function(){for(var c=0,b,a;c<this._events.length;c++){b=this._events[c][0];a=this._events[c][1];b.off(a)}this._events=[]},show:function(a){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();if(this.forceParse){this.update()}this.place();l(window).on("resize",l.proxy(this.place,this));if(a){a.stopPropagation();a.preventDefault()}this.isVisible=true;this.element.trigger({type:"show",date:this.date})},hide:function(a){if(!this.isVisible){return}if(this.isInline){return}this.picker.hide();l(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){l(document).off("mousedown",this.hide)}if(this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this.isVisible=false;this.element.trigger({type:"hide",date:this.date})},remove:function(){this._detachEvents();this.picker.remove();delete this.element.data().datetimepicker},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+(a.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-(a.getTimezoneOffset()*60000)))},setUTCDate:function(a){if(a>=this.startDate&&a<=this.endDate){this.date=a;this.setValue();this.viewDate=this.date;this.fill()}else{this.element.trigger({type:"outOfRange",date:a,startDate:this.startDate,endDate:this.endDate})}},setFormat:function(a){this.format=g.parseFormat(a,this.formatType);var b;if(this.isInput){b=this.element}else{if(this.component){b=this.element.find("input")}}if(b&&b.val()){this.setValue()}},setValue:function(){var a=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(a)}this.element.data("date",a)}else{this.element.val(a)}if(this.linkField){l("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))}},getFormattedDate:function(a){if(a==undefined){a=this.format}return g.formatDate(this.date,a,this.language,this.formatType)},setStartDate:function(a){this.startDate=a||-Infinity;if(this.startDate!==-Infinity){this.startDate=g.parseDate(this.startDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setEndDate:function(a){this.endDate=a||Infinity;if(this.endDate!==Infinity){this.endDate=g.parseDate(this.endDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this.daysOfWeekDisabled=a||[];if(!l.isArray(this.daysOfWeekDisabled)){this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)}this.daysOfWeekDisabled=l.map(this.daysOfWeekDisabled,function(b){return parseInt(b,10)});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var a=parseInt(this.element.parents().filter(function(){return l(this).css("z-index")!="auto"}).first().css("z-index"))+10;var b,c,d;if(this.component){b=this.component.offset();d=b.left;if(this.pickerPosition=="bottom-left"||this.pickerPosition=="top-left"){d+=this.component.outerWidth()-this.picker.outerWidth()}}else{b=this.element.offset();d=b.left}if(this.pickerPosition=="top-left"||this.pickerPosition=="top-right"){c=b.top-this.picker.outerHeight()}else{c=b.top+this.height}this.picker.css({top:c,left:d,zIndex:a})},update:function(){var b,a=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){b=arguments[0];a=true}else{b=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val())||this.initialDate}if(!b){b=new Date();a=false}this.date=g.parseDate(b,this.format,this.language,this.formatType);if(a){this.setValue()}if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var b=this.weekStart,a="<tr>";while(b<this.weekStart+7){a+='<th class="dow">'+k[this.language].daysMin[(b++)%7]+"</th>"}a+="</tr>";this.picker.find(".datetimepicker-days thead").append(a)},fillMonths:function(){var a="",b=0;while(b<12){a+='<span class="month">'+k[this.language].monthsShort[b++]+"</span>"}this.picker.find(".datetimepicker-months td").html(a)},fill:function(){if(this.date==null||this.viewDate==null){return}var Q=new Date(this.viewDate),W=Q.getUTCFullYear(),N=Q.getUTCMonth(),ae=Q.getUTCDate(),a=Q.getUTCHours(),O=Q.getUTCMinutes(),M=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,Y=this.startDate!==-Infinity?this.startDate.getUTCMonth():-Infinity,ac=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,K=this.endDate!==Infinity?this.endDate.getUTCMonth():Infinity,aa=(new i(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate())).valueOf(),S=new Date();this.picker.find(".datetimepicker-days thead th:eq(1)").text(k[this.language].months[N]+" "+W);if(this.formatViewType=="time"){var V=a%12?a%12:12;var af=(V<10?"0":"")+V;var ab=(O<10?"0":"")+O;var f=k[this.language].meridiem[a<12?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(af+":"+ab+" "+f.toUpperCase());this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(af+":"+ab+" "+f.toUpperCase())}else{this.picker.find(".datetimepicker-hours thead th:eq(1)").text(ae+" "+k[this.language].months[N]+" "+W);this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(ae+" "+k[this.language].months[N]+" "+W)}this.picker.find("tfoot th.today").text(k[this.language].today).toggle(this.todayBtn!==false);this.updateNavArrows();this.fillMonths();var e=i(W,N-1,28,0,0,0,0),c=g.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth());e.setUTCDate(c);e.setUTCDate(c-(e.getUTCDay()-this.weekStart+7)%7);var ag=new Date(e);ag.setUTCDate(ag.getUTCDate()+42);ag=ag.valueOf();var Z=[];var U;while(e.valueOf()<ag){if(e.getUTCDay()==this.weekStart){Z.push("<tr>")}U="";if(e.getUTCFullYear()<W||(e.getUTCFullYear()==W&&e.getUTCMonth()<N)){U+=" old"}else{if(e.getUTCFullYear()>W||(e.getUTCFullYear()==W&&e.getUTCMonth()>N)){U+=" new"}}if(this.todayHighlight&&e.getUTCFullYear()==S.getFullYear()&&e.getUTCMonth()==S.getMonth()&&e.getUTCDate()==S.getDate()){U+=" today"}if(e.valueOf()==aa){U+=" active"}if((e.valueOf()+86400000)<=this.startDate||e.valueOf()>this.endDate||l.inArray(e.getUTCDay(),this.daysOfWeekDisabled)!==-1){U+=" disabled"}Z.push('<td class="day'+U+'">'+e.getUTCDate()+"</td>");if(e.getUTCDay()==this.weekEnd){Z.push("</tr>")}e.setUTCDate(e.getUTCDate()+1)}this.picker.find(".datetimepicker-days tbody").empty().append(Z.join(""));Z=[];var R="",T="",X="";for(var d=0;d<24;d++){var P=i(W,N,ae,d);U="";if((P.valueOf()+3600000)<=this.startDate||P.valueOf()>this.endDate){U+=" disabled"}else{if(a==d){U+=" active"}}if(this.showMeridian&&k[this.language].meridiem.length==2){T=(d<12?k[this.language].meridiem[0]:k[this.language].meridiem[1]);if(T!=X){if(X!=""){Z.push("</fieldset>")}Z.push('<fieldset class="hour"><legend>'+T.toUpperCase()+"</legend>")}X=T;R=(d%12?d%12:12);Z.push('<span class="hour'+U+" hour_"+(d<12?"am":"pm")+'">'+R+"</span>");if(d==23){Z.push("</fieldset>")}}else{R=d+":00";Z.push('<span class="hour'+U+'">'+R+"</span>")}}this.picker.find(".datetimepicker-hours td").html(Z.join(""));Z=[];R="",T="",X="";for(var d=0;d<60;d+=this.minuteStep){var P=i(W,N,ae,a,d,0);U="";if(P.valueOf()<this.startDate||P.valueOf()>this.endDate){U+=" disabled"}else{if(Math.floor(O/this.minuteStep)==Math.floor(d/this.minuteStep)){U+=" active"}}if(this.showMeridian&&k[this.language].meridiem.length==2){T=(a<12?k[this.language].meridiem[0]:k[this.language].meridiem[1]);if(T!=X){if(X!=""){Z.push("</fieldset>")}Z.push('<fieldset class="minute"><legend>'+T.toUpperCase()+"</legend>")}X=T;R=(a%12?a%12:12);Z.push('<span class="minute'+U+'">'+R+":"+(d<10?"0"+d:d)+"</span>");if(d==59){Z.push("</fieldset>")}}else{R=d+":00";Z.push('<span class="minute'+U+'">'+a+":"+(d<10?"0"+d:d)+"</span>")}}this.picker.find(".datetimepicker-minutes td").html(Z.join(""));var b=this.date.getUTCFullYear();var ad=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(W).end().find("span").removeClass("active");if(b==W){ad.eq(this.date.getUTCMonth()).addClass("active")}if(W<M||W>ac){ad.addClass("disabled")}if(W==M){ad.slice(0,Y).addClass("disabled")}if(W==ac){ad.slice(K+1).addClass("disabled")}Z="";W=parseInt(W/10,10)*10;var L=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(W+"-"+(W+9)).end().find("td");W-=1;for(var d=-1;d<11;d++){Z+='<span class="year'+(d==-1||d==10?" old":"")+(b==W?" active":"")+(W<M||W>ac?" disabled":"")+'">'+W+"</span>";W+=1}L.html(Z);this.place()},updateNavArrows:function(){var a=new Date(this.viewDate),c=a.getUTCFullYear(),b=a.getUTCMonth(),d=a.getUTCDate(),e=a.getUTCHours();switch(this.viewMode){case 0:if(this.startDate!==-Infinity&&c<=this.startDate.getUTCFullYear()&&b<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()&&e<=this.startDate.getUTCHours()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&c>=this.endDate.getUTCFullYear()&&b>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()&&e>=this.endDate.getUTCHours()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:if(this.startDate!==-Infinity&&c<=this.startDate.getUTCFullYear()&&b<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&c>=this.endDate.getUTCFullYear()&&b>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 2:if(this.startDate!==-Infinity&&c<=this.startDate.getUTCFullYear()&&b<=this.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&c>=this.endDate.getUTCFullYear()&&b>=this.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 3:case 4:if(this.startDate!==-Infinity&&c<=this.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&c>=this.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(r){r.stopPropagation();r.preventDefault();var f=l(r.target).closest("span, td, th, legend");if(f.length==1){if(f.is(".disabled")){this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});return}switch(f[0].nodeName.toLowerCase()){case"th":switch(f[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var v=g.modes[this.viewMode].navStep*(f[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,v);break;case 1:this.viewDate=this.moveDate(this.viewDate,v);break;case 2:this.viewDate=this.moveMonth(this.viewDate,v);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,v);break}this.fill();break;case"today":var u=new Date();u=i(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),0);this.viewMode=this.startViewMode;this.showMode(0);this._setDate(u);this.fill();if(this.autoclose){this.hide()}break}break;case"span":if(!f.is(".disabled")){var d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),c=this.viewDate.getUTCDate(),b=this.viewDate.getUTCHours(),t=this.viewDate.getUTCMinutes(),a=this.viewDate.getUTCSeconds();if(f.is(".month")){this.viewDate.setUTCDate(1);e=f.parent().find("span").index(f);c=this.viewDate.getUTCDate();this.viewDate.setUTCMonth(e);this.element.trigger({type:"changeMonth",date:this.viewDate});if(this.viewSelect>=3){this._setDate(i(d,e,c,b,t,a,0))}}else{if(f.is(".year")){this.viewDate.setUTCDate(1);d=parseInt(f.text(),10)||0;this.viewDate.setUTCFullYear(d);this.element.trigger({type:"changeYear",date:this.viewDate});if(this.viewSelect>=4){this._setDate(i(d,e,c,b,t,a,0))}}else{if(f.is(".hour")){b=parseInt(f.text(),10)||0;if(f.hasClass("hour_am")||f.hasClass("hour_pm")){if(b==12&&f.hasClass("hour_am")){b=0}else{if(b!=12&&f.hasClass("hour_pm")){b+=12}}}this.viewDate.setUTCHours(b);this.element.trigger({type:"changeHour",date:this.viewDate});if(this.viewSelect>=1){this._setDate(i(d,e,c,b,t,a,0))}}else{if(f.is(".minute")){t=parseInt(f.text().substr(f.text().indexOf(":")+1),10)||0;this.viewDate.setUTCMinutes(t);this.element.trigger({type:"changeMinute",date:this.viewDate});if(this.viewSelect>=0){this._setDate(i(d,e,c,b,t,a,0))}}}}}if(this.viewMode!=0){var s=this.viewMode;this.showMode(-1);this.fill();if(s==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}}break;case"td":if(f.is(".day")&&!f.is(".disabled")){var c=parseInt(f.text(),10)||1;var d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),b=this.viewDate.getUTCHours(),t=this.viewDate.getUTCMinutes(),a=this.viewDate.getUTCSeconds();if(f.is(".old")){if(e===0){e=11;d-=1}else{e-=1}}else{if(f.is(".new")){if(e==11){e=0;d+=1}else{e+=1}}}this.viewDate.setUTCFullYear(d);this.viewDate.setUTCMonth(e);this.viewDate.setUTCDate(c);this.element.trigger({type:"changeDay",date:this.viewDate});if(this.viewSelect>=2){this._setDate(i(d,e,c,b,t,a,0))}}var s=this.viewMode;this.showMode(-1);this.fill();if(s==this.viewMode&&this.autoclose){this.hide()}break}}},_setDate:function(c,a){if(!a||a=="date"){this.date=c}if(!a||a=="view"){this.viewDate=c}this.fill();this.setValue();var b;if(this.isInput){b=this.element}else{if(this.component){b=this.element.find("input")}}if(b){b.change();if(this.autoclose&&(!a||a=="date")){}}this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(b,c){if(!c){return b}var a=new Date(b.valueOf());a.setUTCMinutes(a.getUTCMinutes()+(c*this.minuteStep));return a},moveHour:function(b,c){if(!c){return b}var a=new Date(b.valueOf());a.setUTCHours(a.getUTCHours()+c);return a},moveDate:function(b,c){if(!c){return b}var a=new Date(b.valueOf());a.setUTCDate(a.getUTCDate()+c);return a},moveMonth:function(s,r){if(!r){return s}var e=new Date(s.valueOf()),a=e.getUTCDate(),d=e.getUTCMonth(),f=Math.abs(r),b,c;r=r>0?1:-1;if(f==1){c=r==-1?function(){return e.getUTCMonth()==d}:function(){return e.getUTCMonth()!=b};b=d+r;e.setUTCMonth(b);if(b<0||b>11){b=(b+12)%12}}else{for(var q=0;q<f;q++){e=this.moveMonth(e,r)}b=e.getUTCMonth();e.setUTCDate(a);c=function(){return b!=e.getUTCMonth()}}while(c()){e.setUTCDate(--a);e.setUTCMonth(b)}return e},moveYear:function(a,b){return this.moveMonth(a,b*12)},dateWithinRange:function(a){return a>=this.startDate&&a<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){if(e.keyCode==27){this.show()}return}var c=false,q,b,d,a,r;switch(e.keyCode){case 27:this.hide();e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation){break}q=e.keyCode==37?-1:1;viewMode=this.viewMode;if(e.ctrlKey){viewMode+=2}else{if(e.shiftKey){viewMode+=1}}if(viewMode==4){a=this.moveYear(this.date,q);r=this.moveYear(this.viewDate,q)}else{if(viewMode==3){a=this.moveMonth(this.date,q);r=this.moveMonth(this.viewDate,q)}else{if(viewMode==2){a=this.moveDate(this.date,q);r=this.moveDate(this.viewDate,q)}else{if(viewMode==1){a=this.moveHour(this.date,q);r=this.moveHour(this.viewDate,q)}else{if(viewMode==0){a=this.moveMinute(this.date,q);r=this.moveMinute(this.viewDate,q)}}}}}if(this.dateWithinRange(a)){this.date=a;this.viewDate=r;this.setValue();this.update();e.preventDefault();c=true}break;case 38:case 40:if(!this.keyboardNavigation){break}q=e.keyCode==38?-1:1;viewMode=this.viewMode;if(e.ctrlKey){viewMode+=2}else{if(e.shiftKey){viewMode+=1}}if(viewMode==4){a=this.moveYear(this.date,q);r=this.moveYear(this.viewDate,q)}else{if(viewMode==3){a=this.moveMonth(this.date,q);r=this.moveMonth(this.viewDate,q)}else{if(viewMode==2){a=this.moveDate(this.date,q*7);r=this.moveDate(this.viewDate,q*7)}else{if(viewMode==1){if(this.showMeridian){a=this.moveHour(this.date,q*6);r=this.moveHour(this.viewDate,q*6)}else{a=this.moveHour(this.date,q*4);r=this.moveHour(this.viewDate,q*4)}}else{if(viewMode==0){a=this.moveMinute(this.date,q*4);r=this.moveMinute(this.viewDate,q*4)}}}}}if(this.dateWithinRange(a)){this.date=a;this.viewDate=r;this.setValue();this.update();e.preventDefault();c=true}break;case 13:if(this.viewMode!=0){var f=this.viewMode;this.showMode(-1);this.fill();if(f==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}e.preventDefault();break;case 9:this.hide();break}if(c){var p;if(this.isInput){p=this.element}else{if(this.component){p=this.element.find("input")}}if(p){p.change()}this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(b){if(b){var a=Math.max(0,Math.min(g.modes.length-1,this.viewMode+b));if(a>=this.minView&&a<=this.maxView){this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:a});this.viewMode=a}}this.picker.find(">div").hide().filter(".datetimepicker-"+g.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()},reset:function(a){this._setDate(null,"date")}};l.fn.datetimepicker=function(a){var b=Array.apply(null,arguments);b.shift();return this.each(function(){var c=l(this),d=c.data("datetimepicker"),e=typeof a=="object"&&a;if(!d){c.data("datetimepicker",(d=new j(this,l.extend({},l.fn.datetimepicker.defaults,e))))}if(typeof a=="string"&&typeof d[a]=="function"){d[a].apply(d,b)}})};l.fn.datetimepicker.defaults={};l.fn.datetimepicker.Constructor=j;var k=l.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}};var g={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))},getDaysInMonth:function(b,a){return[31,(g.isLeapYear(b)?29:28),31,30,31,30,31,31,30,31,30,31][a]},getDefaultFormat:function(b,a){if(b=="standard"){if(a=="input"){return"yyyy-mm-dd hh:ii"}else{return"yyyy-mm-dd hh:ii:ss"}}else{if(b=="php"){if(a=="input"){return"Y-m-d H:i"}else{return"Y-m-d H:i:s"}}else{throw new Error("Invalid format type.")}}},validParts:function(a){if(a=="standard"){return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g}else{if(a=="php"){return/[dDjlNwzFmMnStyYaABgGhHis]/g}else{throw new Error("Invalid format type.")}}},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(a,c){var d=a.replace(this.validParts(c),"\0").split("\0"),b=a.match(this.validParts(c));if(!d||!d.length||!b||b.length==0){throw new Error("Invalid date format.")}return{separators:d,parts:b}},parseDate:function(s,H,d,a){if(s instanceof Date){var F=new Date(s.valueOf()-s.getTimezoneOffset()*60000);F.setMilliseconds(0);return F}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(s)){H=this.parseFormat("yyyy-mm-dd",a)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(s)){H=this.parseFormat("yyyy-mm-dd hh:ii",a)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(s)){H=this.parseFormat("yyyy-mm-dd hh:ii:ss",a)}if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(s)){var E=/([-+]\d+)([dmwy])/,f=s.match(/([-+]\d+)([dmwy])/g),C,z;s=new Date();for(var e=0;e<f.length;e++){C=E.exec(f[e]);z=parseInt(C[1]);switch(C[2]){case"d":s.setUTCDate(s.getUTCDate()+z);break;case"m":s=j.prototype.moveMonth.call(j.prototype,s,z);break;case"w":s.setUTCDate(s.getUTCDate()+z*7);break;case"y":s=j.prototype.moveYear.call(j.prototype,s,z);break}}return i(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),0)}var f=s&&s.match(this.nonpunctuation)||[],s=new Date(0,0,0,0,0,0,0),b={},I=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],G={hh:function(n,m){return n.setUTCHours(m)},h:function(n,m){return n.setUTCHours(m)},HH:function(n,m){return n.setUTCHours(m==12?0:m)},H:function(n,m){return n.setUTCHours(m==12?0:m)},ii:function(n,m){return n.setUTCMinutes(m)},i:function(n,m){return n.setUTCMinutes(m)},ss:function(n,m){return n.setUTCSeconds(m)},s:function(n,m){return n.setUTCSeconds(m)},yyyy:function(n,m){return n.setUTCFullYear(m)},yy:function(n,m){return n.setUTCFullYear(2000+m)},m:function(n,m){m-=1;while(m<0){m+=12}m%=12;n.setUTCMonth(m);while(n.getUTCMonth()!=m){n.setUTCDate(n.getUTCDate()-1)}return n},d:function(n,m){return n.setUTCDate(m)},p:function(n,m){return n.setUTCHours(m==1?n.getUTCHours()+12:n.getUTCHours())}},A,c,C;G.M=G.MM=G.mm=G.m;G.dd=G.d;G.P=G.p;s=i(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds());if(f.length==H.parts.length){for(var e=0,B=H.parts.length;e<B;e++){A=parseInt(f[e],10);C=H.parts[e];if(isNaN(A)){switch(C){case"MM":c=l(k[d].months).filter(function(){var m=this.slice(0,f[e].length),n=f[e].slice(0,m.length);return m==n});A=l.inArray(c[0],k[d].months)+1;break;case"M":c=l(k[d].monthsShort).filter(function(){var m=this.slice(0,f[e].length),n=f[e].slice(0,m.length);return m==n});A=l.inArray(c[0],k[d].monthsShort)+1;break;case"p":case"P":A=l.inArray(f[e].toLowerCase(),k[d].meridiem);break}}b[C]=A}for(var e=0,D;e<I.length;e++){D=I[e];if(D in b&&!isNaN(b[D])){G[D](s,b[D])}}}return s},formatDate:function(f,a,p,c){if(f==null){return""}var q;if(c=="standard"){q={yy:f.getUTCFullYear().toString().substring(2),yyyy:f.getUTCFullYear(),m:f.getUTCMonth()+1,M:k[p].monthsShort[f.getUTCMonth()],MM:k[p].months[f.getUTCMonth()],d:f.getUTCDate(),D:k[p].daysShort[f.getUTCDay()],DD:k[p].days[f.getUTCDay()],p:(k[p].meridiem.length==2?k[p].meridiem[f.getUTCHours()<12?0:1]:""),h:f.getUTCHours(),i:f.getUTCMinutes(),s:f.getUTCSeconds()};q.H=(q.h%12==0?12:q.h%12);q.HH=(q.H<10?"0":"")+q.H;q.P=q.p.toUpperCase();q.hh=(q.h<10?"0":"")+q.h;q.ii=(q.i<10?"0":"")+q.i;q.ss=(q.s<10?"0":"")+q.s;q.dd=(q.d<10?"0":"")+q.d;q.mm=(q.m<10?"0":"")+q.m}else{if(c=="php"){q={y:f.getUTCFullYear().toString().substring(2),Y:f.getUTCFullYear(),F:k[p].months[f.getUTCMonth()],M:k[p].monthsShort[f.getUTCMonth()],n:f.getUTCMonth()+1,t:g.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),j:f.getUTCDate(),l:k[p].days[f.getUTCDay()],D:k[p].daysShort[f.getUTCDay()],w:f.getUTCDay(),N:(f.getUTCDay()==0?7:f.getUTCDay()),S:(f.getUTCDate()%10<=k[p].suffix.length?k[p].suffix[f.getUTCDate()%10-1]:""),a:(k[p].meridiem.length==2?k[p].meridiem[f.getUTCHours()<12?0:1]:""),g:(f.getUTCHours()%12==0?12:f.getUTCHours()%12),G:f.getUTCHours(),i:f.getUTCMinutes(),s:f.getUTCSeconds()};q.m=(q.n<10?"0":"")+q.n;q.d=(q.j<10?"0":"")+q.j;q.A=q.a.toString().toUpperCase();q.h=(q.g<10?"0":"")+q.g;q.H=(q.G<10?"0":"")+q.G;q.i=(q.i<10?"0":"")+q.i;q.s=(q.s<10?"0":"")+q.s}else{throw new Error("Invalid format type.")}}var f=[],b=l.extend([],a.separators);for(var d=0,e=a.parts.length;d<e;d++){if(b.length){f.push(b.shift())}f.push(q[a.parts[d]])}return f.join("")},convertViewMode:function(a){switch(a){case 4:case"decade":a=4;break;case 3:case"year":a=3;break;case 2:case"month":a=2;break;case 1:case"day":a=1;break;case 0:case"hour":a=0;break}return a},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};g.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datetimepicker-hours"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datetimepicker-days"><table class="table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>";l.fn.datetimepicker.DPGlobal=g;l.fn.datetimepicker.noConflict=function(){l.fn.datetimepicker=old;return this};l(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(a){var b=l(this);if(b.data("datetimepicker")){return}a.preventDefault();b.datetimepicker("show")});l(function(){l('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery);